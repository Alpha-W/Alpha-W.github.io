<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="注：原载于QQ空间． 本来打算去年暑假写的，中途因各种琐事而搁置，这一搁置竟是一年之久。一方面，我想让大家知道，遇到估算平方根，并不是只有按计算器才能解决，自己手算也是可行的。另一方面，我也颇感某些同学过度依赖计算器而丧失部分基本的运算能力，诸如...">
        <meta name="keywords" content="">
        <link rel="icon" href="/favicon.ico">
        <!-- Canonical -->
        <link rel="canonical" href="/qian-tan-shou-kai-er-ci-fang.html">
        <!-- /Canonical -->

        <title>浅谈手开二次方 - </title>

        <!-- Stylesheets -->
        <link href="/theme/css/all.min.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="/"><img class="mr20" src="/images/logo.png" alt="logo"></a>
                    </div>
                    <div class="nav pull-right">
                                <a href="/index.html">主页</a>
                                <a href="/categories.html">存档</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">浅谈手开二次方</h1>
                      <p class="header-date">By <a href="/author/hau-wong.html">Hau Wong</a>, 日 06 七月 2014, in category <a href="/category/suan-fa.html">算法</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>注：原载于QQ空间．</p>
<p>本来打算去年暑假写的，中途因各种琐事而搁置，这一搁置竟是一年之久。一方面，我想让大家知道，遇到估算平方根，并不是只有按计算器才能解决，自己手算也是可行的。另一方面，我也颇感某些同学过度依赖计算器而丧失部分基本的运算能力，诸如 <span class="math">\(\sqrt{163.84}\)</span>也直接按计算器等等现象。对于本文所述方法早已了如指掌的同学，可直接点返回。另外，由于本人水平有限，若出现有失妥当之处，还望见谅。</p>
<p>手算平方根有许多种方法，大致可分为初等方法和高等方法。本文只叙述其中比较常见的几种，若有其他方法，欢迎补充。</p>
<div class="section" id="id2">
<h2>竖式法</h2>
<p>这种方法曾见于老版初中教科书，但课改后删除了这一内容，所以多数人不知道这种方法（据说此法出于《九章算术》，本人未考证）</p>
<p>第一步:列式，与除法的格式类似，被开方数写里面。</p>
<p>第二步:分节，将被开方数（整数）从右至左每两个分为一节，打一个逗号。例如 <span class="math">\(13738835\)</span>可分为 <span class="math">\(13,73,88,35\)</span>再例如 <span class="math">\(81257\)</span>可分为 <span class="math">\(8,12,57\)</span>对于小数而言可考虑乘以 <span class="math">\(10^{2k}\)</span>化为整数再分节。</p>
<p>第三步：计算，从左起第一节开始，试出不超过第一节的最大完全平方数的算术平方根，记在被开方数之上，被开方数与该数的平方之差记在被开方数之下。例如第一节为 <span class="math">\(22\)</span>，因 <span class="math">\(4^2＜22＜5^2\)</span>，则将 <span class="math">\(4\)</span>记在 <span class="math">\(22\)</span>的上方，此为第一位商，又因 <span class="math">\(22-4^2=6\)</span>，则将 <span class="math">\(6\)</span>记在下方。再将第二节写到下方，即第一节所得余数之后。接下来将第一位商乘以 <span class="math">\(20\)</span>(所得之数暂且叫做中间数)第二位商应满足的条件是:能使其与中间数之和与其之积小于等于最下方之数的最大整数。并将最下方之数减去第二位商与中间数之和与其之积，所得之数则为第二节所得余数。后面节和第二节处理方法相同，直至余数为零为止，则被开方数上方所记之数为所求的算术平方根。例如算 <span class="math">\(\sqrt{576}\)</span>，第一位商为 <span class="math">\(2\)</span>，余数为 <span class="math">\(1\)</span>,中间数为 <span class="math">\(40\)</span>，第二位商满足 <span class="math">\(x(40+x)\)</span>小于等于 <span class="math">\(176\)</span>且最大，验算可知第二位商为 <span class="math">\(4\)</span>，（ <span class="math">\(44*4=176\)</span>）余数为零，所以 <span class="math">\(\sqrt{576}=24\)</span>。另外遇到开不尽的情况可一节一节补零，直到达到所需要的精度为止。</p>
</div>
<div class="section" id="id3">
<h2>不等式法</h2>
<p>此法见于k姐姐在06年发的帖子之中，不知之前是否有人发现。此法称得上是巧妙。</p>
<p>欲估算 <span class="math">\(\sqrt{a}\)</span>，先粗略估算其整数位，并记为 <span class="math">\(p\)</span>，再粗略估算 <span class="math">\(-p+\sqrt a\)</span>是在 <span class="math">\((0,\frac{1}{2})\)</span>还是 <span class="math">\((\frac{1}{2},1)\)</span>中，可得 <span class="math">\(0＜-p+\sqrt{a}＜\frac{1}{2}\)</span>或 <span class="math">\(\frac{1}{2}＜-p+\sqrt{a}＜1\)</span>。以第一种情况为例，将此不等式三边平方，得到 <span class="math">\(0＜s-t\sqrt{a}＜\frac{1}{4}\)</span>的不等式，再移项得 <span class="math">\(\frac{s}{t}＞\sqrt a＞\frac{s-\frac{1}{4}}{t}\)</span>此时精度已初步提高了。再移项化为不等式中间形如 <span class="math">\(s-t\sqrt{a}\)</span>的形式（注:此时的 <span class="math">\(s\)</span>与 <span class="math">\(t\)</span>并非上一步所述之值）。再三边平方……以此类推，每平方一次，精度都会有所提高。第二种情况的步骤与第一种情况的相同.</p>
</div>
<div class="section" id="id4">
<h2>求根法</h2>
<p>一般最容易想到的方法，也是最适合编程的方法。高中教材上有部分内容。</p>
<p>我们可将这一问题转化为：求 <span class="math">\(x^2-a=0\)</span>的数值解。这样一来问题的解决又多了一类方法。</p>
<p>二分法在此不详述，其原理就是根据勘根定理，不断缩小根所在区间而达到目的，另外一些迭代法，跟二分法大同小异，比如弦截法等等，在此不作讨论。我们主要来说一说牛顿法。对于方程 <span class="math">\(f(x)=0\)</span>,迭代公式为 <span class="math">\(X=X-\frac{f(x)}{f^{\prime}(x)}\)</span>。若令 <span class="math">\(f(x)=x^2-a\)</span>,可得估算 <span class="math">\(\sqrt{a}\)</span>的迭代公式为 <span class="math">\(x_{n+1}=\frac{x_{n}+\frac{a}{x_{n}}}{2}\)</span>此法收敛较快，只要初始值设定得不是太离谱，基本上三四步迭代就可以达到较高精度的值。</p>
</div>
<div class="section" id="id5">
<h2>丢番图逼近法</h2>
<p>起于数论，基本工具就是连分数，连分数所产生的渐近分数都是在分母数位相同情况下的最佳逼近。与佩尔方程存在一定关系。有多种方法可以得到某个二次无理数的连分数，且易证二次无理数的连分数具有周期性。这里简述一种。</p>
<p>对于 <span class="math">\(\sqrt{a}\)</span>，设其整数部分为 <span class="math">\(p\)</span>，则 <span class="math">\(\sqrt{a}=p+\sqrt{a}-p\)</span>，则 <span class="math">\(\sqrt{a}-p=\frac{1}{\frac{1}{\sqrt a-p}}=\frac{a-p^2}{p+\sqrt{a}}\)</span>所以 <span class="math">\(\sqrt{a}=p+\frac{a-p^2}{p+\sqrt a}因此 :math:\)</span>sqrt{a}=p +(a-p^2)/(2p+(a-p^2)/(2p+(a-p^2)/……)`取前几项计算即可。</p>
</div>
<div class="section" id="id6">
<h2>微分法</h2>
<p>在近似计算中微分法占有举足轻重的地位。各类高等数学书都有。
这种方法局限性很大，只适用于增量比较小的情况下。一般的，对于 <span class="math">\(x_{0}\)</span>附近某点 <span class="math">\(x\)</span>,在 <span class="math">\(\mid x-x_{0}\mid\)</span>比较小的情况下，有 <span class="math">\(f(x)\approx f(x_{0})+f^{\prime}(x)(x-x_{0})\)</span>，易得当 <span class="math">\(\mid x\mid\)</span>比较小时，有 <span class="math">\(\sqrt{1+x}\approx 1+\frac{x}{2}\)</span></p>
</div>
<div class="section" id="id7">
<h2>泰勒展开法</h2>
<p>泰勒展开在数值分析中发挥着很大的作用，这种方法过人之处是可以估算某些不能直接计算数值的函数，比如lnx,sinx,cosx等等。一般取前几项估算，后面的余项是高阶无穷小，不予考虑。
由于 <span class="math">\(\sqrt{x}\)</span>在 <span class="math">\(x=0\)</span>上各阶导数均不存在，所以一般按 <span class="math">\(x=1\)</span>泰勒展开，如果 <span class="math">\(x\)</span>距离 <span class="math">\(1\)</span>比较远的话，可以考虑先除以一个完全平方数，再展开。
公式如下： <span class="math">\(f(x)\approx 1+\frac{x-1}{2}-\frac{(x-1)^2}{8}+\frac{(x-1)^3}{16}-\frac{5(x-1)^4}{128}+\frac{7(x-1)^5}{256}-\frac{21(x-1)^6}{1024}+-\ldots \ldots \)</span>一般取前5,6项即可达到相当的精度。
这几种方法各有千秋，各有特色。若能互相补充使用并熟练使用，心算平方根不再是梦。</p>
</div>
<script type='text/javascript'>if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>


        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="/archives.html">Archives</a></li>
                            <li><a href="/tags.html">Tags</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Social</div>
                        <ul class="list-unstyled">
                            <li><a href="https://www.zhihu.com/people/wanghao1405" target="_blank">Zhihu</a></li>
                            <li><a href="https://weibo.com/alpha97" target="_blank">Weibo</a></li>
                            <li><a href="https://github.com/Alpha-W" target="_blank">Github</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Links</div>
                        <ul class="list-unstyled">
                            <li><a href="https://getpelican.com/" target="_blank">Pelican</a></li>
                            <li><a href="https://www.python.org/" target="_blank">Python.org</a></li>
                            <li><a href="https://palletsprojects.com/p/jinja/" target="_blank">Jinja2</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; IdeleHub 2020</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>